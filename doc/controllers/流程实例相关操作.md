# 流程实例相关操作

Process Instance Controller

```java
MController mController = client.getMController();
```

## Class Name

`MController`

## Methods

* [Query Process Instance List Using GET](../../doc/controllers/流程实例相关操作.md#query-process-instance-list-using-get)
* [Batch Delete Process Instance by Ids Using POST](../../doc/controllers/流程实例相关操作.md#batch-delete-process-instance-by-ids-using-post)
* [Query Parent Instance by Sub Id Using GET](../../doc/controllers/流程实例相关操作.md#query-parent-instance-by-sub-id-using-get)
* [Query Sub Process Instance by Task Id Using GET](../../doc/controllers/流程实例相关操作.md#query-sub-process-instance-by-task-id-using-get)
* [Query Top N Longest Running Process Instance Using GET](../../doc/controllers/流程实例相关操作.md#query-top-n-longest-running-process-instance-using-get)
* [Query Process Instance by Id Using GET](../../doc/controllers/流程实例相关操作.md#query-process-instance-by-id-using-get)
* [Update Process Instance Using PUT](../../doc/controllers/流程实例相关操作.md#update-process-instance-using-put)
* [Delete Process Instance by Id Using DELETE](../../doc/controllers/流程实例相关操作.md#delete-process-instance-by-id-using-delete)
* [Query Task List by Process Id Using GET](../../doc/controllers/流程实例相关操作.md#query-task-list-by-process-id-using-get)
* [View Tree Using GET 1](../../doc/controllers/流程实例相关操作.md#view-tree-using-get-1)
* [View Variables Using GET](../../doc/controllers/流程实例相关操作.md#view-variables-using-get)


# Query Process Instance List Using GET

查询流程实例列表

```java
CompletableFuture<Result> queryProcessInstanceListUsingGETAsync(
    final int pageNo,
    final int pageSize,
    final long projectCode,
    final String endDate,
    final String executorName,
    final String host,
    final Long processDefineCode,
    final String searchVal,
    final String startDate,
    final StateTypeEnum stateType)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `pageNo` | `int` | Query, Required | 页码号 |
| `pageSize` | `int` | Query, Required | 页大小 |
| `projectCode` | `long` | Template, Required | 项目Code |
| `endDate` | `String` | Query, Optional | 结束时间 |
| `executorName` | `String` | Query, Optional | 流程名称 |
| `host` | `String` | Query, Optional | 运行任务的主机IP地址 |
| `processDefineCode` | `Long` | Query, Optional | 流程定义编码 |
| `searchVal` | `String` | Query, Optional | 搜索值 |
| `startDate` | `String` | Query, Optional | 开始时间 |
| `stateType` | [`StateTypeEnum`](../../doc/models/state-type-enum.md) | Query, Optional | 工作流和任务节点的运行状态 |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int pageNo = 1;
int pageSize = 10;
long projectCode = 12L;
Long processDefineCode = 100L;

mController.queryProcessInstanceListUsingGETAsync(pageNo, pageSize, projectCode, null, null, null, processDefineCode, null, null, null).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Batch Delete Process Instance by Ids Using POST

通过流程实例ID集合批量删除流程实例

```java
CompletableFuture<Result> batchDeleteProcessInstanceByIdsUsingPOSTAsync(
    final String processInstanceIds,
    final long projectCode,
    final Object projectName,
    final String alertGroup,
    final LocalDateTime createTime,
    final String email,
    final Integer id,
    final String phone,
    final String queue,
    final String queueName,
    final Integer state,
    final String tenantCode,
    final Integer tenantId,
    final String timeZone,
    final LocalDateTime updateTime,
    final String userName,
    final String userPassword,
    final UserTypeEnum userType)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `processInstanceIds` | `String` | Query, Required | 流程实例ID集合 |
| `projectCode` | `long` | Template, Required | projectCode |
| `projectName` | `Object` | Query, Required | 项目名称 |
| `alertGroup` | `String` | Query, Optional | - |
| `createTime` | `LocalDateTime` | Query, Optional | - |
| `email` | `String` | Query, Optional | - |
| `id` | `Integer` | Query, Optional | - |
| `phone` | `String` | Query, Optional | - |
| `queue` | `String` | Query, Optional | - |
| `queueName` | `String` | Query, Optional | - |
| `state` | `Integer` | Query, Optional | - |
| `tenantCode` | `String` | Query, Optional | - |
| `tenantId` | `Integer` | Query, Optional | - |
| `timeZone` | `String` | Query, Optional | - |
| `updateTime` | `LocalDateTime` | Query, Optional | - |
| `userName` | `String` | Query, Optional | - |
| `userPassword` | `String` | Query, Optional | - |
| `userType` | [`UserTypeEnum`](../../doc/models/user-type-enum.md) | Query, Optional | - |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
String processInstanceIds = "processInstanceIds4";
long projectCode = 12L;
Object projectName = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");

mController.batchDeleteProcessInstanceByIdsUsingPOSTAsync(processInstanceIds, projectCode, projectName, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Query Parent Instance by Sub Id Using GET

通过子流程实例ID查询父流程实例信息

```java
CompletableFuture<Result> queryParentInstanceBySubIdUsingGETAsync(
    final long projectCode,
    final int subId)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `projectCode` | `long` | Template, Required | 项目Code |
| `subId` | `int` | Query, Required | 子流程实例ID |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
long projectCode = 12L;
int subId = 100;

mController.queryParentInstanceBySubIdUsingGETAsync(projectCode, subId).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Query Sub Process Instance by Task Id Using GET

QUERY_SUBPROCESS_INSTANCE_BY_TASK_CODE_NOTES

```java
CompletableFuture<Result> querySubProcessInstanceByTaskIdUsingGETAsync(
    final long projectCode,
    final Object taskCode,
    final int taskId)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `projectCode` | `long` | Template, Required | 项目Code |
| `taskCode` | `Object` | Query, Required | TASK_CODE |
| `taskId` | `int` | Query, Required | taskId |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
long projectCode = 12L;
Object taskCode = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
int taskId = 92;

mController.querySubProcessInstanceByTaskIdUsingGETAsync(projectCode, taskCode, taskId).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Query Top N Longest Running Process Instance Using GET

查询topN最长运行流程实例

```java
CompletableFuture<ResultProcessInstance> queryTopNLongestRunningProcessInstanceUsingGETAsync(
    final String endTime,
    final long projectCode,
    final int size,
    final String startTime)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `endTime` | `String` | Query, Required | 流程实例结束时间 |
| `projectCode` | `long` | Template, Required | 项目Code |
| `size` | `int` | Query, Required | 流程实例个数 |
| `startTime` | `String` | Query, Required | 流程实例启动时间 |

## Response Type

[`ResultProcessInstance`](../../doc/models/result-process-instance.md)

## Example Usage

```java
String endTime = "endTime6";
long projectCode = 12L;
int size = 10;
String startTime = "startTime6";

mController.queryTopNLongestRunningProcessInstanceUsingGETAsync(endTime, projectCode, size, startTime).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Query Process Instance by Id Using GET

通过流程实例ID查询流程实例

```java
CompletableFuture<Result> queryProcessInstanceByIdUsingGETAsync(
    final int id,
    final long projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 流程实例ID |
| `projectCode` | `long` | Template, Required | 项目Code |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int id = 100;
long projectCode = 12L;

mController.queryProcessInstanceByIdUsingGETAsync(id, projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Update Process Instance Using PUT

更新流程实例

```java
CompletableFuture<Result> updateProcessInstanceUsingPUTAsync(
    final int id,
    final long projectCode,
    final String syncDefine,
    final String globalParams,
    final String locations,
    final String scheduleTime,
    final String taskDefinitionJson,
    final String taskRelationJson,
    final String tenantCode,
    final String timeout)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 流程实例ID |
| `projectCode` | `long` | Template, Required | 项目Code |
| `syncDefine` | `String` | Query, Required | 更新流程实例的信息是否同步到流程定义 |
| `globalParams` | `String` | Query, Optional | PROCESS_GLOBAL_PARAMS |
| `locations` | `String` | Query, Optional | 流程实例节点坐标位置信息(json格式) |
| `scheduleTime` | `String` | Query, Optional | 定时时间,空字符串表示当前天 |
| `taskDefinitionJson` | `String` | Query, Optional | TASK_DEFINITION_JSON |
| `taskRelationJson` | `String` | Query, Optional | TASK_RELATION_JSON |
| `tenantCode` | `String` | Query, Optional | 操作系统租户 |
| `timeout` | `String` | Query, Optional | PROCESS_TIMEOUT |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int id = 1;
long projectCode = 12L;
String syncDefine = "false";
String globalParams = "[]";
String tenantCode = "default";
String timeout = "0";

mController.updateProcessInstanceUsingPUTAsync(id, projectCode, syncDefine, globalParams, null, null, null, null, tenantCode, timeout).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Delete Process Instance by Id Using DELETE

通过流程实例ID删除流程实例

```java
CompletableFuture<ResultProcessInstance> deleteProcessInstanceByIdUsingDELETEAsync(
    final int id,
    final long projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 流程实例ID |
| `projectCode` | `long` | Template, Required | 项目Code |

## Response Type

[`ResultProcessInstance`](../../doc/models/result-process-instance.md)

## Example Usage

```java
int id = 100;
long projectCode = 12L;

mController.deleteProcessInstanceByIdUsingDELETEAsync(id, projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |


# Query Task List by Process Id Using GET

通过流程实例ID查询任务列表

```java
CompletableFuture<Result> queryTaskListByProcessIdUsingGETAsync(
    final int id,
    final long projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 流程实例ID |
| `projectCode` | `long` | Template, Required | 项目Code |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int id = 100;
long projectCode = 12L;

mController.queryTaskListByProcessIdUsingGETAsync(id, projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# View Tree Using GET 1

浏览Gantt图

```java
CompletableFuture<Result> viewTreeUsingGET1Async(
    final int id,
    final long projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 流程实例ID |
| `projectCode` | `long` | Template, Required | 项目Code |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int id = 100;
long projectCode = 12L;

mController.viewTreeUsingGET1Async(id, projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# View Variables Using GET

查询流程实例全局变量和局部变量

```java
CompletableFuture<Result> viewVariablesUsingGETAsync(
    final int id,
    final long projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 流程实例ID |
| `projectCode` | `long` | Template, Required | 项目Code |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int id = 100;
long projectCode = 12L;

mController.viewVariablesUsingGETAsync(id, projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |

