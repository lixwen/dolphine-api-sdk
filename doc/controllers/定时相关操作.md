# 定时相关操作

Scheduler Controller

```java
MController mController = client.getMController();
```

## Class Name

`MController`

## Methods

* [Query Schedule List Paging Using GET](../../doc/controllers/定时相关操作.md#query-schedule-list-paging-using-get)
* [Create Schedule Using POST](../../doc/controllers/定时相关操作.md#create-schedule-using-post)
* [Query Schedule List Using POST](../../doc/controllers/定时相关操作.md#query-schedule-list-using-post)
* [Preview Schedule Using POST](../../doc/controllers/定时相关操作.md#preview-schedule-using-post)
* [Update Schedule by Process Definition Code Using PUT](../../doc/controllers/定时相关操作.md#update-schedule-by-process-definition-code-using-put)
* [Update Schedule Using PUT](../../doc/controllers/定时相关操作.md#update-schedule-using-put)
* [Delete Schedule by Id Using DELETE](../../doc/controllers/定时相关操作.md#delete-schedule-by-id-using-delete)
* [Offline Using POST](../../doc/controllers/定时相关操作.md#offline-using-post)
* [Online Using POST](../../doc/controllers/定时相关操作.md#online-using-post)


# Query Schedule List Paging Using GET

分页查询定时

```java
CompletableFuture<Result> queryScheduleListPagingUsingGETAsync(
    final long processDefinitionCode,
    final Object processDefinitionId,
    final long projectCode,
    final Integer pageNo,
    final Integer pageSize,
    final String searchVal)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `processDefinitionCode` | `long` | Query, Required | processDefinitionCode |
| `processDefinitionId` | `Object` | Query, Required | 流程定义ID |
| `projectCode` | `long` | Template, Required | 项目Code |
| `pageNo` | `Integer` | Query, Optional | 页码号 |
| `pageSize` | `Integer` | Query, Optional | 页大小 |
| `searchVal` | `String` | Query, Optional | 搜索值 |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
long processDefinitionCode = 200L;
Object processDefinitionId = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
long projectCode = 12L;
Integer pageNo = 1;
Integer pageSize = 20;

mController.queryScheduleListPagingUsingGETAsync(processDefinitionCode, processDefinitionId, projectCode, pageNo, pageSize, null).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Create Schedule Using POST

创建定时

```java
CompletableFuture<Result> createScheduleUsingPOSTAsync(
    final long processDefinitionCode,
    final long projectCode,
    final Long environmentCode,
    final FailureStrategyEnum failureStrategy,
    final ProcessInstancePriorityEnum processInstancePriority,
    final String schedule,
    final Integer warningGroupId,
    final WarningTypeEnum warningType,
    final String workerGroup,
    final Object workerGroupId)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `processDefinitionCode` | `long` | Query, Required | 流程定义编码 |
| `projectCode` | `long` | Template, Required | 项目Code |
| `environmentCode` | `Long` | Query, Optional | ENVIRONMENT_CODE |
| `failureStrategy` | [`FailureStrategyEnum`](../../doc/models/failure-strategy-enum.md) | Query, Optional | 失败策略 |
| `processInstancePriority` | [`ProcessInstancePriorityEnum`](../../doc/models/process-instance-priority-enum.md) | Query, Optional | 流程实例优先级 |
| `schedule` | `String` | Query, Optional | 定时 |
| `warningGroupId` | `Integer` | Query, Optional | 发送组ID |
| `warningType` | [`WarningTypeEnum`](../../doc/models/warning-type-enum.md) | Query, Optional | 发送策略 |
| `workerGroup` | `String` | Query, Optional | workerGroup<br>**Default**: `"default"` |
| `workerGroupId` | `Object` | Query, Optional | Worker Server分组ID |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
long processDefinitionCode = 100L;
long projectCode = 12L;
String schedule = "{'startTime':'2019-06-10 00:00:00','endTime':'2019-06-13 00:00:00','timezoneId':'America/Phoenix','crontab':'0 0 3/6 * * ? *'}";
Integer warningGroupId = 100;
String workerGroup = "default";

mController.createScheduleUsingPOSTAsync(processDefinitionCode, projectCode, null, null, null, schedule, warningGroupId, null, workerGroup, null).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Query Schedule List Using POST

查询定时列表

```java
CompletableFuture<Result> queryScheduleListUsingPOSTAsync(
    final long projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `projectCode` | `long` | Template, Required | 项目Code |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
long projectCode = 12L;

mController.queryScheduleListUsingPOSTAsync(projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Preview Schedule Using POST

定时调度预览

```java
CompletableFuture<Result> previewScheduleUsingPOSTAsync(
    final String projectCode,
    final String schedule)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `projectCode` | `String` | Template, Required | - |
| `schedule` | `String` | Query, Optional | 定时 |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
String projectCode = "projectCode0";
String schedule = "{'startTime':'2019-06-10 00:00:00','endTime':'2019-06-13 00:00:00','crontab':'0 0 3/6 * * ? *'}";

mController.previewScheduleUsingPOSTAsync(projectCode, schedule).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Update Schedule by Process Definition Code Using PUT

UPDATE_SCHEDULE_BY_PROCESS_DEFINITION_CODE_NOTES

```java
CompletableFuture<Result> updateScheduleByProcessDefinitionCodeUsingPUTAsync(
    final long code,
    final Object processDefinitionCode,
    final long projectCode,
    final Long environmentCode,
    final FailureStrategyEnum failureStrategy,
    final ProcessInstancePriorityEnum processInstancePriority,
    final String schedule,
    final Integer warningGroupId,
    final WarningTypeEnum warningType,
    final String workerGroup)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `code` | `long` | Template, Required | code |
| `processDefinitionCode` | `Object` | Query, Required | 流程定义编码 |
| `projectCode` | `long` | Template, Required | 项目Code |
| `environmentCode` | `Long` | Query, Optional | ENVIRONMENT_CODE |
| `failureStrategy` | [`FailureStrategyEnum`](../../doc/models/failure-strategy-enum.md) | Query, Optional | 失败策略 |
| `processInstancePriority` | [`ProcessInstancePriorityEnum`](../../doc/models/process-instance-priority-enum.md) | Query, Optional | 流程实例优先级 |
| `schedule` | `String` | Query, Optional | 定时 |
| `warningGroupId` | `Integer` | Query, Optional | 发送组ID |
| `warningType` | [`WarningTypeEnum`](../../doc/models/warning-type-enum.md) | Query, Optional | 发送策略 |
| `workerGroup` | `String` | Query, Optional | worker群组 |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
long code = 130L;
Object processDefinitionCode = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
long projectCode = 12L;
String schedule = "{'startTime':'2019-06-10 00:00:00','endTime':'2019-06-13 00:00:00','crontab':'0 0 3/6 * * ? *'}";
Integer warningGroupId = 100;
String workerGroup = "default";

mController.updateScheduleByProcessDefinitionCodeUsingPUTAsync(code, processDefinitionCode, projectCode, null, null, null, schedule, warningGroupId, null, workerGroup).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Update Schedule Using PUT

更新定时

```java
CompletableFuture<Result> updateScheduleUsingPUTAsync(
    final int id,
    final long projectCode,
    final Long environmentCode,
    final FailureStrategyEnum failureStrategy,
    final ProcessInstancePriorityEnum processInstancePriority,
    final String schedule,
    final Integer warningGroupId,
    final WarningTypeEnum warningType,
    final String workerGroup)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 定时ID |
| `projectCode` | `long` | Template, Required | 项目Code |
| `environmentCode` | `Long` | Query, Optional | ENVIRONMENT_CODE |
| `failureStrategy` | [`FailureStrategyEnum`](../../doc/models/failure-strategy-enum.md) | Query, Optional | 失败策略 |
| `processInstancePriority` | [`ProcessInstancePriorityEnum`](../../doc/models/process-instance-priority-enum.md) | Query, Optional | 流程实例优先级 |
| `schedule` | `String` | Query, Optional | 定时 |
| `warningGroupId` | `Integer` | Query, Optional | 发送组ID |
| `warningType` | [`WarningTypeEnum`](../../doc/models/warning-type-enum.md) | Query, Optional | 发送策略 |
| `workerGroup` | `String` | Query, Optional | worker群组 |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int id = 100;
long projectCode = 12L;
String schedule = "{'startTime':'2019-06-10 00:00:00','endTime':'2019-06-13 00:00:00','crontab':'0 0 3/6 * * ? *'}";
Integer warningGroupId = 100;
String workerGroup = "default";

mController.updateScheduleUsingPUTAsync(id, projectCode, null, null, null, schedule, warningGroupId, null, workerGroup).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Delete Schedule by Id Using DELETE

定时下线

```java
CompletableFuture<Result> deleteScheduleByIdUsingDELETEAsync(
    final int id,
    final long projectCode,
    final String alertGroup,
    final LocalDateTime createTime,
    final String email,
    final String phone,
    final String queue,
    final String queueName,
    final Integer state,
    final String tenantCode,
    final Integer tenantId,
    final String timeZone,
    final LocalDateTime updateTime,
    final String userName,
    final String userPassword,
    final UserTypeEnum userType)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 定时ID |
| `projectCode` | `long` | Template, Required | 项目Code |
| `alertGroup` | `String` | Query, Optional | - |
| `createTime` | `LocalDateTime` | Query, Optional | - |
| `email` | `String` | Query, Optional | - |
| `phone` | `String` | Query, Optional | - |
| `queue` | `String` | Query, Optional | - |
| `queueName` | `String` | Query, Optional | - |
| `state` | `Integer` | Query, Optional | - |
| `tenantCode` | `String` | Query, Optional | - |
| `tenantId` | `Integer` | Query, Optional | - |
| `timeZone` | `String` | Query, Optional | - |
| `updateTime` | `LocalDateTime` | Query, Optional | - |
| `userName` | `String` | Query, Optional | - |
| `userPassword` | `String` | Query, Optional | - |
| `userType` | [`UserTypeEnum`](../../doc/models/user-type-enum.md) | Query, Optional | - |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int id = 100;
long projectCode = 12L;

mController.deleteScheduleByIdUsingDELETEAsync(id, projectCode, null, null, null, null, null, null, null, null, null, null, null, null, null, null).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |


# Offline Using POST

定时下线

```java
CompletableFuture<Result> offlineUsingPOSTAsync(
    final int id,
    final long projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 定时ID |
| `projectCode` | `long` | Template, Required | 项目Code |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int id = 100;
long projectCode = 12L;

mController.offlineUsingPOSTAsync(id, projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Online Using POST

定时上线

```java
CompletableFuture<Result> onlineUsingPOSTAsync(
    final int id,
    final long projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `id` | `int` | Template, Required | 定时ID |
| `projectCode` | `long` | Template, Required | 项目Code |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
int id = 100;
long projectCode = 12L;

mController.onlineUsingPOSTAsync(id, projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |

