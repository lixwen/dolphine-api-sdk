# 流程相关操作

Executor Controller

```java
MController mController = client.getMController();
```

## Class Name

`MController`

## Methods

* [Batch Start Process Instance Using POST](../../doc/controllers/流程相关操作.md#batch-start-process-instance-using-post)
* [Execute Using POST](../../doc/controllers/流程相关操作.md#execute-using-post)
* [Start Check Process Definition Using POST](../../doc/controllers/流程相关操作.md#start-check-process-definition-using-post)
* [Start Process Instance Using POST](../../doc/controllers/流程相关操作.md#start-process-instance-using-post)


# Batch Start Process Instance Using POST

批量运行流程实例(其中有任意一个processDefinitionCode找不到,则返回失败信息并且状态置为失败,成功的任务会正常运行,不会停止)

```java
CompletableFuture<Result> batchStartProcessInstanceUsingPOSTAsync(
    final Object failureStrategy,
    final String processDefinitionCodes,
    final Object processInstancePriority,
    final long projectCode,
    final String scheduleTime,
    final int warningGroupId,
    final Object warningType,
    final Object complementDependentMode,
    final Integer dryRun,
    final Long environmentCode,
    final Object execType,
    final Integer expectedParallelismNumber,
    final Object runMode,
    final String startNodeList,
    final String startParams,
    final Object taskDependType,
    final Integer timeout,
    final String workerGroup)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `failureStrategy` | `Object` | Query, Required | 失败策略 |
| `processDefinitionCodes` | `String` | Query, Required | PROCESS_DEFINITION_CODES |
| `processInstancePriority` | `Object` | Query, Required | 流程实例优先级 |
| `projectCode` | `long` | Template, Required | 项目Code |
| `scheduleTime` | `String` | Query, Required | 定时时间,空字符串表示当前天 |
| `warningGroupId` | `int` | Query, Required | 发送组ID |
| `warningType` | `Object` | Query, Required | 发送策略 |
| `complementDependentMode` | `Object` | Query, Optional | 补数依赖的类型 |
| `dryRun` | `Integer` | Query, Optional | 是否空跑 |
| `environmentCode` | `Long` | Query, Optional | ENVIRONMENT_CODE |
| `execType` | `Object` | Query, Optional | 指令类型 |
| `expectedParallelismNumber` | `Integer` | Query, Optional | 补数任务自定义并行度 |
| `runMode` | `Object` | Query, Optional | 运行模式 |
| `startNodeList` | `String` | Query, Optional | 开始节点列表(节点name) |
| `startParams` | `String` | Query, Optional | 启动参数 |
| `taskDependType` | `Object` | Query, Optional | 任务依赖类型 |
| `timeout` | `Integer` | Query, Optional | 超时时间 |
| `workerGroup` | `String` | Query, Optional | worker群组 |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
Object failureStrategy = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
String processDefinitionCodes = "1,2,3";
Object processInstancePriority = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
long projectCode = 12L;
String scheduleTime = "2022-04-06 00:00:00,2022-04-06 00:00:00";
int warningGroupId = 100;
Object warningType = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
Integer dryRun = 0;
Long environmentCode = -1L;
Integer expectedParallelismNumber = 8;
Integer timeout = 100;
String workerGroup = "default";

mController.batchStartProcessInstanceUsingPOSTAsync(failureStrategy, processDefinitionCodes, processInstancePriority, projectCode, scheduleTime, warningGroupId, warningType, null, dryRun, environmentCode, null, expectedParallelismNumber, null, null, null, null, timeout, workerGroup).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Execute Using POST

执行流程实例的各种操作(暂停、停止、重跑、恢复等)

```java
CompletableFuture<Result> executeUsingPOSTAsync(
    final Object executeType,
    final int processInstanceId,
    final long projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `executeType` | `Object` | Query, Required | 执行类型 |
| `processInstanceId` | `int` | Query, Required | 流程实例ID |
| `projectCode` | `long` | Template, Required | 项目Code |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
Object executeType = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
int processInstanceId = 100;
long projectCode = 12L;

mController.executeUsingPOSTAsync(executeType, processInstanceId, projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Start Check Process Definition Using POST

检查流程定义

```java
CompletableFuture<Result> startCheckProcessDefinitionUsingPOSTAsync(
    final long processDefinitionCode,
    final String projectCode)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `processDefinitionCode` | `long` | Query, Required | 流程定义编码 |
| `projectCode` | `String` | Template, Required | - |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
long processDefinitionCode = 100L;
String projectCode = "projectCode0";

mController.startCheckProcessDefinitionUsingPOSTAsync(processDefinitionCode, projectCode).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |


# Start Process Instance Using POST

运行流程实例

```java
CompletableFuture<Result> startProcessInstanceUsingPOSTAsync(
    final Object failureStrategy,
    final long processDefinitionCode,
    final Object processInstancePriority,
    final long projectCode,
    final String scheduleTime,
    final Object warningType,
    final Object complementDependentMode,
    final Integer dryRun,
    final Long environmentCode,
    final Object execType,
    final Integer expectedParallelismNumber,
    final Object runMode,
    final String startNodeList,
    final String startParams,
    final Object taskDependType,
    final Integer timeout,
    final Integer warningGroupId,
    final String workerGroup)
```

## Parameters

| Parameter | Type | Tags | Description |
|  --- | --- | --- | --- |
| `failureStrategy` | `Object` | Query, Required | 失败策略 |
| `processDefinitionCode` | `long` | Query, Required | 流程定义编码 |
| `processInstancePriority` | `Object` | Query, Required | 流程实例优先级 |
| `projectCode` | `long` | Template, Required | 项目Code |
| `scheduleTime` | `String` | Query, Required | 定时时间,空字符串表示当前天 |
| `warningType` | `Object` | Query, Required | 发送策略 |
| `complementDependentMode` | `Object` | Query, Optional | 补数依赖的类型 |
| `dryRun` | `Integer` | Query, Optional | 是否空跑 |
| `environmentCode` | `Long` | Query, Optional | ENVIRONMENT_CODE |
| `execType` | `Object` | Query, Optional | 指令类型 |
| `expectedParallelismNumber` | `Integer` | Query, Optional | 补数任务自定义并行度 |
| `runMode` | `Object` | Query, Optional | 运行模式 |
| `startNodeList` | `String` | Query, Optional | 开始节点列表(节点name) |
| `startParams` | `String` | Query, Optional | 启动参数 |
| `taskDependType` | `Object` | Query, Optional | 任务依赖类型 |
| `timeout` | `Integer` | Query, Optional | 超时时间 |
| `warningGroupId` | `Integer` | Query, Optional | 发送组ID |
| `workerGroup` | `String` | Query, Optional | worker群组 |

## Response Type

[`Result`](../../doc/models/result.md)

## Example Usage

```java
Object failureStrategy = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
long processDefinitionCode = 100L;
Object processInstancePriority = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
long projectCode = 12L;
String scheduleTime = "2022-04-06 00:00:00,2022-04-06 00:00:00";
Object warningType = m6712345.m30.m168.m172.ApiHelper.deserialize("{\"key1\":\"val1\",\"key2\":\"val2\"}");
Integer dryRun = 0;
Long environmentCode = -1L;
Integer expectedParallelismNumber = 8;
Integer timeout = 100;
Integer warningGroupId = 100;
String workerGroup = "default";

mController.startProcessInstanceUsingPOSTAsync(failureStrategy, processDefinitionCode, processInstancePriority, projectCode, scheduleTime, warningType, null, dryRun, environmentCode, null, expectedParallelismNumber, null, null, null, null, timeout, warningGroupId, workerGroup).thenAccept(result -> {
    // TODO success callback handler
}).exceptionally(exception -> {
    // TODO failure callback handler
    return null;
});
```

## Errors

| HTTP Status Code | Error Description | Exception Class |
|  --- | --- | --- |
| 401 | Unauthorized | `ApiException` |
| 403 | Forbidden | `ApiException` |
| 404 | Not Found | `ApiException` |

